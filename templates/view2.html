<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href= "{{ url_for('static',filename='css/styles.css') }}">
  <link rel="stylesheet" href= "{{ url_for('static',filename='css/mathquill.css') }}" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://underscorejs.org/underscore-min.js"></script>
  <script src="{{ url_for('static',filename='js/mathquill.js') }}"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: { inlineMath: [['$','$'], ["\\(","\\)"]] },
      TeX: { extensions: ["amsmath.js", "color.js"] }
    });
  </script>
  <!-- Full Story Script -->
  <script>
    window['_fs_debug'] = false;
    window['_fs_host'] = 'fullstory.com';
    window['_fs_org'] = 'GWAF9';
    window['_fs_namespace'] = 'FS';
    (function(m,n,e,t,l,o,g,y){
        if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
        g=m[e]=function(a,b,s){g.q?g.q.push([a,b,s]):g._api(a,b,s);};g.q=[];
        o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';
        y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
        g.identify=function(i,v,s){g(l,{uid:i},s);if(v)g(l,v,s)};g.setUserVars=function(v,s){g(l,v,s)};g.event=function(i,v,s){g('event',{n:i,p:v},s)};
        g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
        g.consent=function(a){g("consent",!arguments.length||a)};
        g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
        g.clearUserCookie=function(){};
    })(window,document,window['_fs_namespace'],'script','user');
</script>

</head>
<body bgcolor="#edf0f2">
  <script type="text/javascript">
    // initialize view state with server data
    window.INIT_STATE = {{ state | tojson }};
  </script>

  <script src="{{ url_for('static',filename='js/view.js') }}"></script>

  <div id="container"><!-- flex container -->
    <img src="{{ url_for('static',filename='img/logo.svg') }}" class="logo"/>

    <div class = "imageBox">
        <h3>Problem {{data.title}}</h3>
        <p>Find the Derivative of the following equation at x = 0</p>
        <img src="{{ url_for('static',filename='img/problems/1.png') }}" class="problem"/>
        <div class="nextButton" onclick="location.href = '{{data.link}}';">
          Problem Complete
        </div>
    </div>


    <div class="box" id="bluebox"><!-- flex item -->

      <div class="inputScreen">

        <div class = "toolbar">
          <div class = "toolButton backButton" onclick="location.href = window.location.href;">
            <img src="{{ url_for('static',filename='img/back_button.svg') }}" class="backButton"/>
          </div>

          <p>Equation Manipulator</p>

        </div>

        <div id="equationDiv">
          <div id="equation" style="display: none;"></div>
          <div class = "floatButton" onclick="VIEW.exportLatex()">
            <img src="{{ url_for('static',filename='img/export_latex.svg') }}" class="exportButton"/>
          </div>
        </div>

        <!-- Buttons for moving around the equation tree -->
        <div id="tree_controls">
          <div class = "row1">
            <div id = "up" class="expando treeButton inactive">
              <img src="{{ url_for('static',filename='img/expand.svg') }}" class="treeExpand"/>
            </div>
          </div>
          <div class = "row2">
            <div id = "left" class="treeButton inactive">
              <img src="{{ url_for('static',filename='img/left_arrow.svg') }}" class="treeArrow"/>
            </div>
            <div id = "down" class="expando treeButton inactive">
              <img src="{{ url_for('static',filename='img/smaller.svg') }}" class="treeExpand"/>
            </div>
            <div id = "right" class="treeButton inactive">
              <img src="{{ url_for('static',filename='img/right_arrow.svg') }}" class="treeArrow"/>
            </div>
          </div>
        </div>

        <!-- Buttons for equation manipulation -->
        <div id="controls" style="display: none;">
          <div class="controlButton">divide</div>
          <div class="controlButton">factor</div>
          <div class="controlButton">multiply</div>
        </div>

      </div>

    </div>
  </div>
</body>
</html>
